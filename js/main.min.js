var main=(function(b){var a={settings:{preload:false,slideDuration:500,layoutDuration:750,thumbnailsPerRow:2,mainSide:"right"},$window:null,$body:null,$main:null,$thumbnails:null,$viewer:null,$toggle:null,$navNext:null,$navPrevious:null,slides:[],current:null,locked:false,keys:{27:function(){a.toggle()},38:function(){a.up()},40:function(){a.down()},32:function(){a.next()},39:function(){a.next()},37:function(){a.previous()}},initProperties:function(){a.$window=b(window);a.$body=b(".modal-body");a.$thumbnails=b("#thumbnails");a.$viewer=b('<div id="viewer"><div class="inner"><div class="nav-next"><span class="lnr lnr-chevron-right"></span></div><div class="nav-previous"><span class="lnr lnr-chevron-left"></span></div><div class="toggle"><span class="lnr lnr-menu"></span></div></div></div>').appendTo(a.$body);a.$navNext=a.$viewer.find(".nav-next");a.$navPrevious=a.$viewer.find(".nav-previous");a.$main=b("#main");b('<div class="toggle"></div>').appendTo(a.$main);a.$toggle=b(".toggle");if(skel.vars.IEVersion<9){a.$window.on("resize",function(){window.setTimeout(function(){a.$viewer.css("width",a.$window.width()-a.$main.width())},100)}).trigger("resize")}},initEvents:function(){a.$window.on("load",function(){a.$body.removeClass("is-loading-0");window.setTimeout(function(){a.$body.removeClass("is-loading-1")},100);window.setTimeout(function(){a.$body.removeClass("is-loading-2")},100+Math.max(a.settings.layoutDuration-150,0))});var c;a.$window.on("resize",function(){a.$body.addClass("is-loading-0");window.clearTimeout(c);c=window.setTimeout(function(){a.$body.removeClass("is-loading-0")},100)});a.$viewer.on("touchend",function(){if(skel.breakpoint("medium").active){a.hide()}});a.$viewer.on("touchstart",function(d){a.$viewer.touchPosX=d.originalEvent.touches[0].pageX;a.$viewer.touchPosY=d.originalEvent.touches[0].pageY}).on("touchmove",function(h){if(a.$viewer.touchPosX===null||a.$viewer.touchPosY===null){return}var e=a.$viewer.touchPosX-h.originalEvent.touches[0].pageX,d=a.$viewer.touchPosY-h.originalEvent.touches[0].pageY;boundary=20,delta=50;if((d<boundary&&d>(-1*boundary))&&(e>delta)){a.next()}else{if((d<boundary&&d>(-1*boundary))&&(e<(-1*delta))){a.previous()}}var g=a.$viewer.outerHeight(),f=(a.$viewer.get(0).scrollHeight-a.$viewer.scrollTop());if((a.$viewer.scrollTop()<=0&&d<0)||(f>(g-2)&&f<(g+2)&&d>0)){h.preventDefault();h.stopPropagation()}});a.$main.on("touchstart",function(d){if(skel.breakpoint("xsmall").active){return}a.$main.touchPosX=d.originalEvent.touches[0].pageX;a.$main.touchPosY=d.originalEvent.touches[0].pageY}).on("touchmove",function(h){if(skel.breakpoint("xsmall").active){return}if(a.$main.touchPosX===null||a.$main.touchPosY===null){return}var e=a.$main.touchPosX-h.originalEvent.touches[0].pageX,d=a.$main.touchPosY-h.originalEvent.touches[0].pageY;boundary=20,delta=50,result=false;switch(a.settings.mainSide){case"left":result=(d<boundary&&d>(-1*boundary))&&(e>delta);break;case"right":result=(d<boundary&&d>(-1*boundary))&&(e<(-1*delta));break;default:break}if(result){a.hide()}var g=a.$main.outerHeight(),f=(a.$main.get(0).scrollHeight-a.$main.scrollTop());if((a.$main.scrollTop()<=0&&d<0)||(f>(g-2)&&f<(g+2)&&d>0)){h.preventDefault();h.stopPropagation()}});a.$toggle.on("click",function(){a.toggle()});a.$toggle.on("touchend",function(d){d.stopPropagation()});a.$navNext.on("click",function(){a.next()});a.$navPrevious.on("click",function(){a.previous()});a.$body.on("keydown","input,select,textarea",function(d){d.stopPropagation()});a.$window.on("keydown",function(d){if(skel.breakpoint("xsmall").active){return}if(d.keyCode in a.keys){d.stopPropagation();d.preventDefault();(a.keys[d.keyCode])()}})},initViewer:function(){a.$thumbnails.on("click",".thumbnail",function(c){var d=b(this);c.preventDefault();c.stopPropagation();if(a.locked){d.blur()}a.switchTo(d.data("index"))});a.$thumbnails.children().each(function(){var f=b(this),e=f.children(".thumbnail"),d;d={$parent:f,$slide:null,$slideImage:null,$slideCaption:null,url:e.attr("href"),loaded:false};f.attr("tabIndex","-1");d.$slide=b('<div class="slide"><div class="caption"></div><div class="image"></div></div>');d.$slideImage=d.$slide.children(".image");d.$slideImage.css("background-image","").css("background-position",(e.data("position")||"center"));d.$slideCaption=d.$slide.find(".caption");f.children().not(e).appendTo(d.$slideCaption);if(a.settings.preload){var c=b('<img src="'+d.url+'" />');d.$slideImage.css("background-image","url("+d.url+")");d.$slide.addClass("loaded");d.loaded=true}a.slides.push(d);e.data("index",a.slides.length-1)})},init:function(){if(skel.vars.IEVersion<10){a.settings.slideDuration=0;a.settings.layoutDuration=0}skel.breakpoints({xlarge:"(max-width: 1680px)",large:"(max-width: 1280px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"});a.initProperties();a.initViewer();a.initEvents();window.setTimeout(function(){skel.on("-xsmall !xsmall",function(){if(a.current===null){a.switchTo(0,true)}})},0)},switchTo:function(d,h){if(a.current==d&&!skel.breakpoint("xsmall").active){return}if(a.locked){return}a.locked=true;if(!h&&skel.breakpoint("medium").active&&skel.vars.IEVersion>8){a.hide()}var g=(a.current!==null?a.slides[a.current]:null),c=a.slides[d];a.current=d;if(g){g.$parent.removeClass("active");g.$slide.removeClass("active")}c.$parent.addClass("active").focus();var e=function(){if(g){g.$slide.detach()}c.$slide.appendTo(a.$viewer);if(!c.loaded){window.setTimeout(function(){c.$slide.addClass("loading");b('<img src="'+c.url+'" />').on("load",function(){c.$slideImage.css("background-image","url("+c.url+")");c.loaded=true;c.$slide.removeClass("loading");c.$slide.addClass("active");window.setTimeout(function(){a.locked=false},100)})},100)}else{window.setTimeout(function(){c.$slide.addClass("active");window.setTimeout(function(){a.locked=false},100)},100)}};if(!g){(e)()}else{window.setTimeout(e,a.settings.slideDuration)}},next:function(){var e,f=a.current,d=a.slides.length;if(f>=d-1){e=0}else{e=f+1}a.switchTo(e)},previous:function(){var e,f=a.current,d=a.slides.length;if(f<=0){e=d-1}else{e=f-1}a.switchTo(e)},up:function(){if(a.$body.hasClass("fullscreen")){return}var e,g=a.current,d=a.slides.length,f=a.settings.thumbnailsPerRow;if(g<=(f-1)){e=d-(f-1-g)-1}else{e=g-f}a.switchTo(e)},down:function(){if(a.$body.hasClass("fullscreen")){return}var e,g=a.current,d=a.slides.length,f=a.settings.thumbnailsPerRow;if(g>=d-f){e=g-d+f}else{e=g+f}a.switchTo(e)},show:function(){if(!a.$body.hasClass("fullscreen")){return}a.$body.removeClass("fullscreen");a.$main.focus()},hide:function(){if(a.$body.hasClass("fullscreen")){return}a.$body.addClass("fullscreen");a.$main.blur()},toggle:function(){if(a.$body.hasClass("fullscreen")){a.show()}else{a.hide()}},};return a})(jQuery);$("#ptLens").on("show.bs.modal",function(){var a=document.documentElement.clientWidth;if(a<992){$(".modal-dialog").toggleClass("modal-fullscreen");$(".FullScreenModal").hide();if($(".modal-dialog").hasClass("modal-fullscreen")){}else{$(".modal-dialog").addClass("modal-fullscreen")}}});$("#ptLens").on("shown.bs.modal",function(){var a=document.documentElement.clientWidth;if($("#viewer").length>0){}else{main.init()}$(".toggle span").click(function(){if(a<980){if($("#main").hasClass("overflowMeYAxis")){$("#main").removeClass("overflowMeYAxis")}}else{$("#main").toggleClass("overflowMeYAxis")}})});$(window).on("orientationchange",function(){var a=document.documentElement.clientWidth;if(a<980){if($(".modal-dialog").hasClass("modal-fullscreen")){$(".FullScreenModal").hide()}else{$(".modal-dialog").toggleClass("modal-fullscreen");$(".FullScreenModal").hide()}}else{if(a>980){$(".FullScreenModal").show()}}});function toggleFullScreenModal(){$(".modal-dialog").toggleClass("modal-fullscreen")};